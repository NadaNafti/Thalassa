{% extends ":Front:base.html.twig" %}
{% block title %}{{ hotel }}{% endblock %}
{% block body %}
    {% set saison = hotel.getSaisonPromotionByDate(app.request.session.get('dateDebut')) %}
    <div id="page_title">
	<div class="container clearfix">
	    <div class="page-name">{{ block('title') }}</div>
	    <div class="breadcrumb clearfix">
		<a href="{{ path('accueil') }}">Accueil</a>
		<a href="{{ path('front_hoteltunisie_accueil') }}">Hôtels en Tunisie</a>
		<a href="{{ path('front_hoteltunisie_list') }}">Liste</a>
		<span class="current-page">{{ block('title') }}</span>
	    </div>
	</div>
    </div><!-- end slider_wrapper -->
    <div id="content_wrapper">
	<div class="container">
	    <div class="row clearfix pv-50">
		<div class="col-xs-12 col-sm-8 col-md-9">
		    <div class="detail-header clearfix">
			<div class="detail-header-name">
			    <h3 class="hotel-name no-mb">{{ hotel }}</h3>
			    <span class="hotel-location"><i class="fa-map-marker mi text-warning"></i>{{ hotel.ville }}</span>
			</div>
			<div class="detail-header-price">
			    {% if saison.type is null %}
				Sur Demande
			    {% else %}
				{{ saison.prixDeBase }} DT
			    {% endif %}
			    <span>Par pers & nuit en {{ saison.arrBase }}</span>
			</div>
			<div class="detail-header-review">
			    {{ getStars(hotel.getStars)|raw }}
			    <p>436 réservations</p>
			</div>
		    </div>
		    {% if hotel.photosAlbum|length > 0 %}
			<div id="detail-slider">
			    <div>
				<div id="exposure"></div>
				<div class="clear"></div>	
			    </div>
			    <div class="panel">	
				<div id="left"><a href="javascript:void(0);" class="left-arrow"></a></div>				
				<ul id="details-slider-images">
				    {% for image in hotel.photosAlbum %}
					<li><a href="{{ asset(image.assetPath) }}"><img src="{{ asset(image.assetPath) }}" alt="Detailts" title="Photo num ° {{ loop.index }}" /></a></li>
					    {% endfor %}
				</ul>	
				<div id="right"><a href="javascript:void(0);" class="right-arrow"></a></div>
				<div class="clear"></div>
			    </div>
			</div>
		    {% endif %}

		    <div class="clear"></div>

		    <ul class="tabs mt-20">
			<li><a href="#details-tab1">Déscription</a></li>
			<li><a href="#details-tab2"  class="active">Réservation</a></li>
			<li><a href="#details-tab3">Aménagements</a></li>
			    {% if hotel.longitude is not null %}
			    <li onclick="loadScript()"><a href="#details-tab5">Map</a></li>
			    {% endif %}
		    </ul><!-- tabs -->

		    <ul id="detail-tab" class="tabs-content xss-mb">
			<li id="details-tab1">
			    <h1>{{ hotel }}</h1>
			    <p>
				{{ hotel.descriptionLongue|raw }}
			    </p>


			    <ul class="check-in-out">
				<li><i class="fa-clock-o"></i> Check-In Time<span>12 : 00 pm </span></li>
				<li><i class="fa-clock-o"></i> Check-Out Time<span>12 : 00 pm</span></li>
			    </ul>

			    {#			    <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>#}

			    <ul class="address">
				<li><i class="fa-map-marker"></i>{{ hotel.adresse }}</li>
				    {% if hotel.tel1 is not null %}
				    <li><i class="fa-phone"></i> {{ hotel.tel1 }}</li>
				    {% endif %}
				    {% if hotel.tel2 is not null %}
				    <li><i class="fa-phone"></i> {{ hotel.tel2 }}</li>
				    {% endif %}
			    </ul>    
			    <div class="clear mb-20"></div>
			</li>

			<li id="details-tab2" class="active">
			    {#<div class="availability">
				<div class="availability-inner">
				    <div class="form-group datepicker-wrapper  mr-10">
					<label for="availability1-check-in">Check-in</label>
					<input type="text" class="form-control date" id="availability1-check-in" placeholder="dd/dm/yy">
					<i class="fa fa-calendar"></i>
				    </div>						
				    <div class="form-group datepicker-wrapper mr-20">
					<label for="availability1-check-out">Check-out</label>
					<input type="text" class="form-control date" id="availability1-check-out" placeholder="dd/dm/yy">
					<i class="fa fa-calendar"></i>
				    </div>							
				    <div class="add-room-wrapper clearfix mr-20 xss-mb">
					<div class="room1" >
					    <div class="add-room">
						<div class="two-fourth">
						    <span>Room 1</span><br/>
						    <div class="addroom1 block">
							<a onclick="addroom2()">+ Add room</a>
						    </div>							
						</div>
						<div class="one-fourth mr">
						    <span>Room Type</span>
						    <select class="form-control mySelectBoxClass">
							<option>01</option>
							<option selected>02</option>
							<option>03</option>
							<option>04</option>
							<option>05</option>
						    </select>
						</div>	
						<div class="one-fourth mr">
						    <span>Adult</span>
						    <select class="form-control mySelectBoxClass">
							<option>1</option>
							<option selected>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>							
						<div class="one-fourth">
						    <span>Child</span>
						    <select class="form-control mySelectBoxClass">
							<option>0</option>
							<option selected>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>
					    </div><!-- add-room -->
					</div><!-- end room1 -->	
					<div class="room2 none">
					    <div class="clearfix"></div>
					    <div class="line1"></div>
					    <div class="add-room">
						<div class="two-fourth">
						    <span>Room 2</span><br/>
						    <div class="addroom2 block"><a onclick="addroom3()" class="inline">+ Add room</a> | 
							<a onclick="removeroom2()" class="add-room-close"></a></div>
						</div>
						<div class="one-fourth mr">
						    <span>Room Type</span>
						    <select class="form-control mySelectBoxClass">
							<option>01</option>
							<option selected>02</option>
							<option>03</option>
							<option>04</option>
							<option>05</option>
						    </select>
						</div>	
						<div class="one-fourth mr">
						    <span>Adult</span>
						    <select class="form-control mySelectBoxClass">
							<option>1</option>
							<option selected>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>							
						<div class="one-fourth">
						    <span>Child</span>
						    <select class="form-control mySelectBoxClass">
							<option>0</option>
							<option selected>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>
					    </div><!-- add-room -->
					</div><!-- end room2 -->		
					<div class="room3 none">
					    <div class="clearfix"></div>
					    <div class="line1"></div>
					    <div class="add-room">
						<div class="two-fourth">
						    <span>Room 3</span><br/>
						    <div class="addroom3 block"><a onclick="addroom3()">+ Add room</a> | 
							<a onclick="removeroom3()" class="add-room-close"></a></div>
						</div>
						<div class="one-fourth mr">
						    <span>Room Type</span>
						    <select class="form-control mySelectBoxClass">
							<option>01</option>
							<option selected>02</option>
							<option>03</option>
							<option>04</option>
							<option>05</option>
						    </select>
						</div>	
						<div class="one-fourth mr">
						    <span>Adult</span>
						    <select class="form-control mySelectBoxClass">
							<option>1</option>
							<option selected>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>							
						<div class="one-fourth">
						    <span>Child</span>
						    <select class="form-control mySelectBoxClass">
							<option>0</option>
							<option selected>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						    </select>
						</div>
					    </div><!-- add-room -->
					</div><!-- end room3 -->
				    </div><!-- end add-room wrapper -->
				    <div class="update">
					<button type="button" class="btn btn-info">Update <i class="fa-check"></i></button>
				    </div>
				    <div class="clear"></div>
				</div>
			    </div>
			    <div class="clear mb-30"></div>
			    <h4>Room Type</h4>
			    <ul class="detail-item">
				<li class="clearfix">
				    <img src="{{ asset('front-assets/images/room-types/room-type-01.jpg') }}" alt="room type" />
				    <div class="br2">
					<h3>Standard Double room</h3>
					<span>Max Occupancy: 2 adults</span>
					<ul class="hotelpreferences mt-10 mb-20">
					    <li class="icohp-internet"></li>
					    <li class="icohp-air"></li>
					    <li class="icohp-pool"></li>
					    <li class="icohp-childcare"></li>
					    <li class="icohp-fitness"></li>
					    <li class="icohp-breakfast"></li>
					    <li class="icohp-parking"></li>
					</ul>
					<div class="clearfix"></div>
					<ul class="checklist2 text-info mt-20">
					    <li>FREE Cancellation</li>
					    <li>Pay at hotel or pay today </li>
					</ul>
				    </div>
				    <div class="detail-meta">
					<div class="detail-price">
					    $150 <span>avg/night</span>
					</div>
					<span class="text-warning text-bold ">5 left</span>
					<a href="page-details.html" class="btn">Book Now!</a>
				    </div>
				</li>
				<li class="clearfix">
				    <img src="{{ asset('front-assets/images/room-types/room-type-02.jpg') }}" alt="room type" />
				    <div class="br2">
					<h3>Standard Double room</h3>
					<span>Max Occupancy: 3 adults</span>
					<ul class="hotelpreferences mt-10 mb-20">
					    <li class="icohp-internet"></li>
					    <li class="icohp-air"></li>
					    <li class="icohp-pool"></li>
					    <li class="icohp-childcare"></li>
					    <li class="icohp-fitness"></li>
					    <li class="icohp-breakfast"></li>
					    <li class="icohp-parking"></li>
					</ul>
					<div class="clearfix"></div>
					<ul class="checklist2 text-info mt-20">
					    <li>FREE Cancellation</li>
					    <li>Pay at hotel or pay today </li>
					</ul>
				    </div>
				    <div class="detail-meta">
					<div class="detail-price">
					    $150 <span>avg/night</span>
					</div>
					<span>15 available</span>
					<a href="page-details.html" class="btn">Book Now!</a>
				    </div>
				</li>
				<li class="clearfix">
				    <img src="{{ asset('front-assets/images/room-types/room-type-03.jpg') }}" alt="room type" />
				    <div class="br2">
					<h3>Standard Double room</h3>
					<span>Max Occupancy: 2 adults</span>
					<ul class="hotelpreferences mt-10 mb-20">
					    <li class="icohp-internet"></li>
					    <li class="icohp-air"></li>
					    <li class="icohp-pool"></li>
					    <li class="icohp-childcare"></li>
					    <li class="icohp-fitness"></li>
					    <li class="icohp-breakfast"></li>
					    <li class="icohp-parking"></li>
					</ul>
					<div class="clearfix"></div>
					<ul class="checklist2 text-info mt-20">
					    <li>FREE Cancellation</li>
					    <li>Pay at hotel or pay today </li>
					</ul>
				    </div>
				    <div class="detail-meta">
					<div class="detail-price">
					    $150 <span>avg/night</span>
					</div>
					<span class="text-danger text-bold">Booked!</span>
					<a href="page-details.html" class="btn">Book Now!</a>
				    </div>
				</li>
				<li class="clearfix">
				    <img src="{{ asset('front-assets/images/room-types/room-type-04.jpg') }}" alt="room type" />
				    <div class="br2">
					<h3>Standard Double room</h3>
					<span>Max Occupancy: 2 adults</span>
					<ul class="hotelpreferences mt-10 mb-20">
					    <li class="icohp-internet"></li>
					    <li class="icohp-air"></li>
					    <li class="icohp-pool"></li>
					    <li class="icohp-childcare"></li>
					    <li class="icohp-fitness"></li>
					    <li class="icohp-breakfast"></li>
					    <li class="icohp-parking"></li>
					</ul>
					<div class="clearfix"></div>
					<ul class="checklist2 text-info mt-20">
					    <li>FREE Cancellation</li>
					    <li>Pay at hotel or pay today </li>
					</ul>
				    </div>
				    <div class="detail-meta">
					<div class="detail-price">
					    $150 <span>avg/night</span>
					</div>
					<span class="text-warning text-bold ">2 left</span>
					<a href="page-details.html" class="btn">Book Now!</a>
				    </div>
				</li>
			    </ul>#}
			</li>
			<li id="details-tab3">
			    <h4>Amménagements</h4>
			    <ul class="facilities">
				{% for ammenagement in hotel.amenagements %}
				    <li class="checked">{{ ammenagement }}</li>
				    {% endfor %}
			    </ul>
			    <h4>Localisations</h4>
			    <ul class="facilities">
				{% for localisation in hotel.localisations %}
				    <li class="checked">{{ localisation }}</li>
				    {% endfor %}
			    </ul>
			    <h4>Options</h4>
			    <ul class="facilities">
				{% for option in hotel.options %}
				    <li class="checked" style="width: 100%">{{ option }}</li>
				    {% endfor %}
			    </ul>
			    <h4>Tags</h4>
			    <ul class="facilities">
				{% for tag in hotel.tags %}
				    <li class="checked">{{ tag }}</li>
				    {% endfor %}
			    </ul>
			    <div class="clear"></div>
			</li>
			<li id="details-tab5">
			    <div id="map-canvas"></div>  
			</li>
		    </ul><!-- end tabs -->
		    <div class="clear xss-mb"></div>
		</div>

		<div class="col-xs-12 col-sm-4 col-md-3">
		    <div class="sidebar hotel-sidebar">

			<div class="sidebar-item mb-20">
			    <div class="lp-box">
				<i class="text-info fa-quote-left"></i>
				<p class="no-mb">
				    {{ hotel.descriptionCourte|raw }}
				</p>
			    </div>
			</div>

			{#<div class="sidebar-item mb-20">
			    <div class="lp-box">
				<i class="text-info wi-thermometer"></i>
				<h4>Weather Around This Hotel</h4>
			    </div>
			    <div class="weather-widget">
				<div class="today-date">
				    <span class="time">07.30 pm - </span>
				    <span class="date">Mon. July 28th, 2013</span>
				</div>
				<div class="today-weather">
				    <div class="today-icon"><i class="wi-day-cloudy-gusts"></i></div>
				    <div class="today-temperature">
					<span>Max: 25</span>
					22 <i class="wi-celcius"></i>
					<span>Min: 17</span>
				    </div>
				</div>
				<div class="clear"></div>
				<ul class="daily-weather clearfix">
				    <li>
					<span class="day">tue</span>
					<i class="wi-day-cloudy"></i>
					<span class="max">22</span>
					<span class="min">17</span>
				    </li>
				    <li>
					<span class="day">wed</span>
					<i class="wi-day-rain"></i>
					<span class="max">23</span>
					<span class="min">18</span>
				    </li>
				    <li>
					<span class="day">thu</span>
					<i class="wi-day-storm-showers"></i>
					<span class="max">23</span>
					<span class="min">18</span>
				    </li>
				    <li>
					<span class="day">fri</span>
					<i class="wi-day-sunny"></i>
					<span class="max">24</span>
					<span class="min">19</span>
				    </li>
				    <li>
					<span class="day">sat</span>
					<i class="wi-day-sprinkle"></i>
					<span class="max">25</span>
					<span class="min">20</span>
				    </li>
				    <li>
					<span class="day">sun</span>
					<i class="wi-day-lightning"></i>
					<span class="max">25</span>
					<span class="min">20</span>
				    </li>
				</ul>
			    </div>
			</div>

			<div class="sidebar-item mb-20">
			    <div class="lp-box">
				<i class="text-info fa-phone-square"></i>
				<h4>Need Assistance?</h4>
				<p>Our team is 24/7 at your service to help you with your booking issues or answer any related questions</p>
				<span class="text-info font24">+1900 12 213 21</span>
			    </div>
			</div>#}

			{% if hotels|length>1 %}
			    <div class="sidebar-item mb-20">
				<div class="lp-box">
				    <i class="text-info fa-heart"></i>
				    <h4>Similaires dans cette ville</h4>
				</div>
				<ul class="small-list-item">
				    {% for hot in hotels if hotel.id!=hot.id %}
					{% set sai = hot.getSaisonPromotionByDate(app.request.session.get('dateDebut')) %}
					<li>
					    <a href="{{ path('front_hoteltunisie_details',{'slug':hot.slug}) }}" class="image-small-list">
						{% if hot.photoPrincipal is not null %}
						    <img src="{{ asset(hot.photoPrincipal.assetPath) }}" alt="" style="width:60px;height: 72px" />
						{% else %}
						    <img src="https://placeholdit.imgix.net/~text?txtsize=10&txt=No%20image&w=60&h=71" alt="" style="width:60px;height: 72px"  />
						{% endif %}
					    </a>
					    <a href="{{ path('front_hoteltunisie_details',{'slug':hot.slug}) }}" class="text-bold inverse">{{ hot }}</a>
					    <div class="price-small">
						<strong>
						    {% if sai.type is null %}
							Sur Demande
						    {% else %}
							{{ sai.prixDeBase }} DT
						    {% endif %}
						</strong>
						<span>Par pers & nuitt</span>
					    </div>
					    {{ getStars(hot.getStars)|raw }}
					</li>
				    {% endfor %}
				</ul>
			    </div>
			{% endif %}

		    </div>
		</div>

	    </div>
	</div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {% if hotel.longitude is not null and hotel.latitude is not null %}
	<script>
	    function initialize() {
		// Create an array of styles.
		var styles = [
		    {
			featureType: 'road.highway',
			elementType: 'all',
			stylers: [
			    {hue: '#e5e5e5'},
			    {saturation: -100},
			    {lightness: 72},
			    {visibility: 'simplified'}
			]
		    }, {
			featureType: 'water',
			elementType: 'all',
			stylers: [
			    {hue: '#30a5dc'},
			    {saturation: 47},
			    {lightness: -31},
			    {visibility: 'simplified'}
			]
		    }, {
			featureType: 'road',
			elementType: 'all',
			stylers: [
			    {hue: '#cccccc'},
			    {saturation: -100},
			    {lightness: 44},
			    {visibility: 'on'}
			]
		    }, {
			featureType: 'landscape',
			elementType: 'all',
			stylers: [
			    {hue: '#ffffff'},
			    {saturation: -100},
			    {lightness: 100},
			    {visibility: 'on'}
			]
		    }, {
			featureType: 'poi.park',
			elementType: 'all',
			stylers: [
			    {hue: '#d2df9f'},
			    {saturation: 12},
			    {lightness: -4},
			    {visibility: 'on'}
			]
		    }, {
			featureType: 'road.arterial',
			elementType: 'all',
			stylers: [
			    {hue: '#e5e5e5'},
			    {saturation: -100},
			    {lightness: 56},
			    {visibility: 'on'}
			]
		    }, {
			featureType: 'administrative.locality',
			elementType: 'all',
			stylers: [
			    {hue: '#000000'},
			    {saturation: 0},
			    {lightness: 0},
			    {visibility: 'on'}
			]
		    }
		];


		var myLatlng = new google.maps.LatLng({{ hotel.longitude }}, {{ hotel.latitude }});


		// Create a new StyledMapType object, passing it the array of styles,
		// as well as the name to be displayed on the map type control.
		var styledMap = new google.maps.StyledMapType(styles,
			{name: "Styled Map"});


		// Create a map object, and include the MapTypeId to add
		// to the map type control.
		var mapOptions = {
		    zoom: 15,
		    center: myLatlng,
		    mapTypeControlOptions: {
			mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
		    }
		};

		var map = new google.maps.Map(document.getElementById('map-canvas'),
			mapOptions);

		var marker = new google.maps.Marker({
		    position: myLatlng,
		    map: map,
		    title: 'Hello World!'
		});


		//Associate the styled map with the MapTypeId and set it to display.
		map.mapTypes.set('map_style', styledMap);
		map.setMapTypeId('map_style');
	    }


	    function loadScript() {
		setTimeout(function () {
		    $('#map-canvas').css({'display': 'block'});
		    var script = document.createElement('script');
		    script.type = 'text/javascript';
		    script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&' +
			    'callback=initialize';
		    document.body.appendChild(script);

		    google.maps.event.trigger(map, 'resize');
		}, 500);
	    }

	</script>
    {% endif %}
{% endblock %}
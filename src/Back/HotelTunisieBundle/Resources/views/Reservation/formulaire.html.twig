{% extends ":Back:base.html.twig" %}
{% block title %}Tarif & Dispo{% endblock %}
{% block description %}{% endblock %}
{% block topbody %}   
    {{ parent() }}
    <li>
        <a href="javascript:void(0)" >Tarif & Dispo</a>
    </li>
{% endblock %}
{% block body %}

    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-sm-3">
                        <h2 class="center">{{ hotel }}</h2>
                        <h5 class="center">{{ getStars(hotel.getStars)|raw }}</h5>
                        <p><strong>Fournisseur  : </strong>{{ hotel.fournisseur }}</p>
                        <p><strong>Ville  : </strong> {{ hotel.ville.pays|upper }} {{ hotel.ville }}</p>
                        <p><strong>Date debut : </strong> {{ dateDebut|date('d/m/Y') }}</p>
                        <p><strong>Date Fin : </strong> {{ dateFin|date('d/m/Y') }}</p>
                </div>
                <div class="col-sm-7">
                            <div id='calendar'></div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
{% block jquery %}
    <script>
        $(document).ready(function() {
            $('#calendar').fullCalendar({
                month: {{ dateDebut|date('m')-1 }},
                year: {{ dateDebut|date('Y') }},
                events: [
                    {% for day in calendrier %}
                        {
                            {% if day.saison.type is null %}
                            color: '#F0AD4E',
                            {% elseif day.saison.type ==1 %}
                            color: '#555',
                            {% else %}
                            color: '#569099',
                            {% endif %}
                            title: '{{ day.saison }}',
                            start: '{{ day.dateDebut }}',
                            end: '{{ day.dateFin }}',
                            {% if day.saison.type is null %}
                                url: '{{ path('fiche_saison_base',{'id':day.saison.hotelBase.id}) }}',
                            {% else %}
                                url: '{{ path('PrixSaison',{'id':day.saison.id}) }}',
                            {% endif %}
                        },
                    {% endfor %}
                ],
    eventClick: function(event) {
            if (event.url) {
                window.open(event.url);
                return false;
            }
        }
            })
        });
    </script>
{% endblock %}